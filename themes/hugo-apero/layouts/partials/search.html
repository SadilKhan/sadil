
    
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> - Search Box Modal</title>
  
  <style>
    /* Base styles for the page */

    .search-container {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Search button styles */
    .search-button {
      background-color: transparent;
      width: 30px;
      height: 30px;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .search-button svg {
      fill: #007bff;
      width: 30px;
      height: 30px;
    }

    /* Search modal container */
    .modal-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0,0, 0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(20px); /* Add backdrop blur effect */
      z-index: 9999;
    }

    /* Search box modal */
    .search-modal {
      background-color: #f9f9f9;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 80%;
      max-width: 600px; /* Set maximum width for larger screens */
    }

    /* Search input and clear button styles */
    .search-input-container {
      position: relative;
      width: 100%;
    }

    #search-input {
      width: 100%;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 15px;
      font-size: 18px;
      outline: none;
      margin-bottom: 20px;
    }

    .clear-button {
      position: absolute;
      top: 30px;
      right: 10px;
      transform: translateY(-50%);
      background-color: transparent;
      border: none;
      cursor: pointer;
    }

    .clear-button svg {
      fill: #007bff;
      width: 20px;
      height: 20px;
          }
          /* Search results list styles */
      .search-results {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      
      .search-results li {
        margin-bottom: 10px;
        cursor: pointer;
      }
  </style>
</head>

<body>
  <!-- HTML code for the search box -->
<div class="search-container">
  <button class="search-button" id="search-button">
    <!-- SVG icon for the search button -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="none" d="M0 0h24v24H0z" />
      <path
        d="M19.71 18.29l-4.88-4.88a7.5 7.5 0 1 0-1.41 1.41l4.88 4.88a1 1 0 0 0 1.41-1.41zM10.5 16a5.5 5.5 0 1 1 5.5-5.5 5.506 5.506 0 0 1-5.5 5.5z"
      />
    </svg>
  </button>
</div>

<!-- HTML template for the search modal -->
<template id="search-modal-template">
  <div class="modal-container">
    <div class="search-modal">
      <div class="search-input-container">
        <input type="text" id="search-input" placeholder="Search...">
        <button class="clear-button" id="clear-button">
          <!-- SVG icon for the clear button -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
            <path d="M18.3 6.3l-1.4-1.4-5.6 5.6-5.6-5.6-1.4 1.4 5.6 5.6-5.6 5.6 1.4 1.4 5.6-5.6 5.6 5.6 1.4-1.4-5.6-5.6z" />
          </svg>
        </button>
      </div>
      <ul id="search-results" class="search-results"></ul>
    </div>
  </div>
</template>

<!-- JavaScript to handle search button click and open/close the modal -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const searchButton = document.getElementById("search-button");
    let isSearchActive = false; // Flag to track search button state

    searchButton.addEventListener("click", function () {
      if (!isSearchActive) {
        openSearchModal();
      } else {
        closeSearchModal();
      }
    });

    function openSearchModal() {
      // Create the modal container
      const modalContainer = document.importNode(
        document.getElementById("search-modal-template").content,
        true
      );

      // Append the modal to the body
      document.body.appendChild(modalContainer);

      // Get the search input and clear button elements from the modal
      const searchInput = document.getElementById("search-input");
      const clearButton = document.getElementById("clear-button");
      const searchResults = document.getElementById("search-results");

      // Clear button event listener to clear the search input when clicked
      clearButton.addEventListener("click", function () {
        searchInput.value = "";
        searchInput.focus();
        showSearchResults([]); // Clear search results
      });

      // Input event listener to show search results as the user types
      searchInput.addEventListener("input", function () {
        const query = searchInput.value.toLowerCase().trim();
        const filteredResults = window.pagesIndex.filter((page) =>
          page.title.toLowerCase().includes(query)
        );
        showSearchResults(filteredResults);
      });

      // Focus on the search input
      searchInput.focus();

      isSearchActive = true;
    }

    function closeSearchModal() {
      // Remove the modal container if it exists
      const modalContainer = document.querySelector(".modal-container");
      if (modalContainer) {
        modalContainer.remove();
      }
      isSearchActive = false;
    }

    // Load the index.json file and set its contents to the window.pagesIndex variable
    fetch("{{ .Site.BaseURL }}index.json")
      .then((response) => response.json())
      .then((data) => {
        window.pagesIndex = data;
        console.log(data); // Verify that the data from index.json is loaded successfully
      })
      .catch((error) => console.error("Error loading index.json:", error));

    // Function to display search results in the modal
    function showSearchResults(results) {
      const searchResults = document.getElementById("search-results");
      searchResults.innerHTML = "";

      results.forEach((result) => {
        const listItem = document.createElement("li");
        listItem.textContent = result.title;
        searchResults.appendChild(listItem);
      });
    }
  });
</script>

</body>

</html>
